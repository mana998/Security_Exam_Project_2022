<link rel="stylesheet" type="text/css" href="/myAccount/myAccount.css"/>

<div class="flex-container account-page">
    <h1 class="page-title">My Account</h1>
    <div class="row">
        <div class="col-12 col-md-6">
            <h3 id ="favorite" class="page-subtitle">Favorite
                <img id="spread-icon" src="./../global/icons/spread.png" alt=" icon" ></img>
            </h3>
            <div id="favorite-recipes"></div>
        </div>
        <div class="col-12 col-md-6">
            <h3 id="myRecipes" >My Recipes  
                <img onclick="addModal()" id="add-icon" src="./../global/icons/add.png" alt="add icon" data-toggle="modal" data-target="#recipeFormModalAdd"></img>      
            </h3>
            <div class="modal fade" id="recipeFormModalAdd" tabindex="-1" role="dialog" aria-labelledby="addRecipe" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
						<div class="modal-header">
						<h5 class="modal-title" id="modalHeadder">Add recipe</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						</div>
						<div class="modal-body">
							<form id="recipeForm" method="POST" enctype="multipart/form-data" action="/api/recipe/recipeAdd" >
								<div class="form-group">
									<label for="recipe_name">Recipe name</label>
									<input type="text" class="form-control" id="recipe_name" name="recipe_name" required placeholder="Enter recipe name">
								</div>
								<div class="row row-style-label">
									<label for="recipe_ingredients">Ingredients</label>
									<p onclick="addIngredientField()" id="add-ingredient"><b>+</b></p>
									<button id ="new-ingredient-button" class="btn" data-toggle="modal" data-target="#ingredientModal">Add new ingredient</button>     
								</div>
								<div id ="ingredientsArray" class="form-group"></div>
								<div class="form-group">
									<label for="recipe_description">Description</label>
									<textarea type="text" class="form-control" id="recipe_description" required name="recipe_description" placeholder="Enter description" rows="5" cols="30" required></textarea>
								</div>
								<div class="form-group">
									<label for="recipe-image">Choose recipe picture</label>
									<input id="image-recipe" type="file" class="form-control-file"  name="image-recipe" required>
									<p id = "img-response"></p>
								</div>
								<input id='recipeId' type="number" class="form-control  col-2" name="recipe_id" value="" hidden>
							</form>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
							<button id="submit-button" type="submit" form="recipeForm" class="btn btn-primary">Submit</button>
						</div>
                    </div>
                </div>
            </div>
            <!-- modal for ingredient add-->
            <div class="modal" tabindex="-1"  id="ingredientModal" role="dialog" aria-labelledby="addIngredient" aria-hidden="true">
                <div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title">Add new ingredient</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<form id="ingredientForm" enctype="multipart/form-data" method="POST" action='/api/recipe/addIngredient' >
								<div class="form-group">
									<label for="ingredient_name">Ingredient name</label>
									<input type="text" class="form-control" id="ingredient_name" name="ingredient_name" required placeholder="Enter ingredient name">
									<label for="ingredient_measure">Ingredient measure</label>
									<select class="form-control" id="ingredient_measure" required placeholder="Choose ingredient measure"></select>
									<p id ="ingredient-message"></p>
								</div>
							</form>
						</div>
						<div class="modal-footer">
							<button type="submit" class="btn btn-primary submit-ingredient-button" form="ingredientForm">Save ingredient</button>
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
						</div>
					</div>
                </div>
            </div>
            <div id="your-recipes"></div>       
        </div>
    </div>
</div>

<script src="/myAccount/myAccount.js"></script>